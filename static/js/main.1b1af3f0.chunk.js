(this.webpackJsonpreactblog=this.webpackJsonpreactblog||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s.n(a),c=s(28),l=s.n(c),o=(s(40),s.p,s(41),s(42),s(34)),n=s(9),r=s(2),d=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h2",{style:{color:"white"},children:"This is Route not Found Page"})})},u=s(16),m=s(17),h=s(19),j=s(18),b=s(25);b.a.initializeApp({apiKey:"AIzaSyBTy0z4BABxye6IxG8VxFHLhvBtwQDT1iQ",authDomain:"reactblog-824c0.firebaseapp.com",databaseURL:"https://reactblog-824c0-default-rtdb.firebaseio.com",projectId:"reactblog-824c0",storageBucket:"reactblog-824c0.appspot.com",messagingSenderId:"1080666528942",appId:"1:1080666528942:web:005bda112a2e5ab4fb613f",measurementId:"G-RTMGHXN9V7"}),b.a.analytics();var f=b.a,p=s(7),g=s.n(p),x=s(12),v=s.n(x),O=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allUsers:[],allLikes:[],countLikes:0,countLikesID:0,child_ref:0,countLoop:1},a.content=i.a.createRef(),a.userOfLike="",a.userOfLikeEmail="",a.i=0,a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("/likes").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,count:t.count,user_id:t.user_id,post_id:t.post_id,time:t.time})})),e.setState({allLikes:s,countLikes:s.length})})),f.database().ref("/users").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,email:t.email,name:t.name})})),e.setState({allUsers:s})}))}},{key:"addLikes",value:function(e,t){var s=this;e.preventDefault();var a=v()().format("DD/MM/YYYY HH:mm:ss");if(f.database().ref("/likes").orderByChild("post_id").equalTo(t).on("value",(function(e){e.forEach((function(e){var t=e.val();t.child_ref===s.state.child_ref&&1===s.state.countLoop&&setTimeout(function(){f.database().ref("/likes/"+this.state.child_ref).remove()}.bind(s),300),s.setState({child_ref:t.child_ref,countLikes:t.count,countLoop:s.state.countLoop+1})}))})),0!=this.state.child_ref){alert(this.state.child_ref),alert(this.state.countLikes);var i=this.state.child_ref}else{i=(i=f.database().ref("/likes").push()).toString().slice(-20)}setTimeout(function(){var e=f.database().ref("/likes").child(i);e.child("id").set(this.state.countLikesID+1),e.child("count").set(this.state.countLikes+1),e.child("user_id").set(localStorage.getItem("user_id")),e.child("post_id").set(t),e.child("child_ref").set(i),e.child("time").set(a)}.bind(this),300),this.setState({countLikesID:this.state.countLikesID+1,countLikes:0,countLoop:0}),this.i=0}},{key:"increment",value:function(){this.i=this.i+1}},{key:"render",value:function(){var e=this,t={left:"0"},s={color:"red"},a={display:"none"},i={cursor:"pointer"},c={display:"block",height:"1px",border:"0",borderTop:"1px solid #ccc",margin:"1em 0",padding:"0"};return Object(r.jsxs)("div",{className:"container",style:{color:"black",marginBottom:"50px",marginLeft:"-20px"},children:[Object(r.jsx)("h2",{className:"text-left",children:"This is Add Likes Page"}),Object(r.jsx)("div",{className:"col-12 text-left",children:Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"Likes",className:"sr-only",children:"Likes"}),"true"===localStorage.getItem("authlogin")&&Object(r.jsx)("div",{children:this.state.allLikes.map((function(t,c){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{ref:e.content,onClick:function(t){return e.addLikes(t,e.props.post_id)},style:i,children:[Object(r.jsx)("div",{id:"div_"+e.props.post_id,style:a,children:t.post_id==e.props.post_id&&t.count?t.count:0}),t.post_id==e.props.post_id&&Object(r.jsx)("i",{class:"fa fa-heart","aria-hidden":"true",style:s}),t.post_id==e.props.post_id&&Object(r.jsx)("span",{children:t.count})]}),e.increment()]})}))}),Object(r.jsx)("hr",{style:c}),Object(r.jsx)("span",{ref:this.content,onClick:function(t){return e.addLikes(t,e.props.post_id)},style:i,children:Object(r.jsx)("i",{class:"fa fa-heart","aria-hidden":"true",style:s})}),Object(r.jsx)("hr",{style:c})]})}),this.state.allLikes.map((function(s,a){return Object(r.jsxs)("div",{className:"col-6",children:[e.state.allUsers.forEach((function(t){t.email==s.user_id&&(e.userOfLikes=t.name,e.userOfLikesEmail=s.user_id)})),s.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:Object(r.jsxs)("strong",{children:["true"===localStorage.getItem("authlogin")&&e.userOfLikesEmail==localStorage.getItem("user_id")?"Me":e.userOfLikes+"-"+e.userOfLikesEmail,":"]})}),s.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:s.count}),s.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:s.time})]})}))]})}}]),s}(a.Component),y=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allPosts:[],countPosts:0,allCategory:[],allUsers:[]},a.select=i.a.createRef(),a.categ="",a.userOfComment="",a.userOfCommentEmail="",a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("/posts").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,content:t.content,user_id:t.user_id,category_id:t.category_id,image:t.image,time:t.time})})),e.setState({allPosts:s,countPosts:s.length})})),f.database().ref("/category").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,time:t.time})})),e.setState({allCategory:s})})),f.database().ref("/users").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,email:t.email,name:t.name})})),e.setState({allUsers:s})})),g()(".container-fluid").css("position","relative")}},{key:"moredetails",value:function(e){window.location.href="/reactblog/#/viewpost/"+e}},{key:"selectchange",value:function(){var e=this;1==this.select.current.value?f.database().ref("/posts").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,content:t.content,user_id:t.user_id,category_id:t.category_id,image:t.image,time:t.time})})),e.setState({allPosts:s,countPosts:s.length})})):f.database().ref("/posts").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(t){var a=t.val();a.category_id==e.select.current.value&&s.push({id:a.id,title:a.title,description:a.description,content:a.content,user_id:a.user_id,category_id:a.category_id,image:a.image,time:a.time})})),e.setState({allPosts:s,countPosts:s.length})}))}},{key:"render",value:function(){var e=this,t={marginBottom:"50px",color:"black"},s={marginBottom:"10px"},a={marginTop:"-10px"},i={display:"block",height:"1px",border:"0",borderTop:"1px solid #000",margin:"1em 0",padding:"0"};return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h1",{children:"Home"}),Object(r.jsxs)("div",{id:"demo",className:"carousel slide","data-ride":"carousel",style:{marginBottom:"50px"},children:[Object(r.jsxs)("ul",{className:"carousel-indicators",children:[Object(r.jsx)("li",{"data-target":"#demo","data-slide-to":"0",className:"active"}),Object(r.jsx)("li",{"data-target":"#demo","data-slide-to":"1"}),Object(r.jsx)("li",{"data-target":"#demo","data-slide-to":"2"})]}),Object(r.jsxs)("div",{className:"carousel-inner",children:[Object(r.jsx)("div",{className:"carousel-item active",children:Object(r.jsx)("img",{src:"https://www.w3schools.com/bootstrap4/la.jpg",alt:"Los Angeles"})}),Object(r.jsx)("div",{className:"carousel-item",children:Object(r.jsx)("img",{src:"https://www.w3schools.com/bootstrap4/chicago.jpg",alt:"Chicago"})}),Object(r.jsx)("div",{className:"carousel-item",children:Object(r.jsx)("img",{src:"https://www.w3schools.com/bootstrap4/ny.jpg",alt:"New York"})})]}),Object(r.jsx)("a",{className:"carousel-control-prev",href:"#demo","data-slide":"prev",children:Object(r.jsx)("span",{className:"carousel-control-prev-icon"})}),Object(r.jsx)("a",{className:"carousel-control-next",href:"#demo","data-slide":"next",children:Object(r.jsx)("span",{className:"carousel-control-next-icon"})})]}),Object(r.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:{marginLeft:"0",marginRight:"0",paddingLeft:"0",paddingRinght:"0",marginBottom:"20px"},children:Object(r.jsxs)("p",{className:"text-left col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12",style:{paddingRight:"0"},children:[Object(r.jsxs)("strong",{children:["Total Posts: ",this.state.countPosts]}),Object(r.jsx)("select",{className:"custom-select",ref:this.select,onChange:function(){return e.selectchange()},children:this.state.allCategory.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.title})}))})]})}),Object(r.jsx)("div",{className:"col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:{marginBottom:"50px"},children:this.state.allPosts.map((function(c,l){return Object(r.jsx)("div",{className:"card mx-auto",style:t,children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("img",{className:"img-fluid",src:"https://firebasestorage.googleapis.com/v0/b/reactblog-824c0.appspot.com/o/image%2F"+c.image+"?alt=media",style:s}),Object(r.jsx)("p",{className:"text-left",children:Object(r.jsx)("strong",{children:Object(r.jsx)("i",{children:c.title})})}),Object(r.jsx)("p",{className:"text-left",style:a,children:Object(r.jsx)("strong",{children:Object(r.jsx)("i",{children:c.description})})}),e.state.allCategory.forEach((function(t){t.id==c.category_id&&(e.categ=t.title)})),Object(r.jsx)("p",{className:"text-left",style:a,children:Object(r.jsx)("strong",{children:Object(r.jsxs)("i",{children:["Category: ",e.categ]})})}),e.state.allUsers.forEach((function(t){t.email==c.user_id&&(e.userOfComment=t.name,e.userOfCommentEmail=c.user_id)})),Object(r.jsx)("p",{className:"text-left",style:a,children:Object(r.jsxs)("strong",{children:["Author: ","true"===localStorage.getItem("authlogin")&&e.userOfCommentEmail==localStorage.getItem("user_id")?"Me":e.userOfComment+"-"+e.userOfCommentEmail,":"]})}),Object(r.jsx)("p",{className:"text-left",style:a,children:Object(r.jsx)("strong",{children:Object(r.jsxs)("i",{children:["Created at: ",c.time]})})}),Object(r.jsx)("hr",{className:"col-12",style:i}),Object(r.jsx)(O,{post_id:c.id}),Object(r.jsx)("hr",{className:"col-12",style:i}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.moredetails(c.id)},children:"More Details"})]})})}))})]})}}]),s}(a.Component),N=function(){return Object(a.useEffect)((function(){g()(".container-fluid").css("position","fixed")})),Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is About Page"}),Object(r.jsxs)("p",{children:[Object(r.jsxs)("strong",{children:[Object(r.jsx)("u",{children:"Contact at:"})," "]}),Object(r.jsx)("a",{href:"mailto:claudiu.vasile@gmail.com?Subject=Hello%20React%20Material",children:"Mail to: claudiu.vasile@gmail.com"})]})]})},k=s(13),C=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),s=Object(a.useState)(0),i=Object(k.a)(s,2),c=i[0],l=i[1],o=Object(a.useState)(""),n=Object(k.a)(o,2),d=n[0],u=n[1],m=Object(a.useState)(""),h=Object(k.a)(m,2),j=h[0],b=h[1],p=Object(a.useState)(""),x=Object(k.a)(p,2),O=(x[0],x[1]),y={borderRadius:"25px",backgroundColor:"lightblue"};return Object(a.useEffect)((function(){f.database().ref("/logs").on("value",(function(e){var t=[];e.forEach((function(e){var s=e.val();t.push({id:s.id,status:s.status,message:s.message,agent:s.agent,ip:s.ip,location:s.location,user_id:s.user_id,time:s.time}),l(t.length),fetch("http://ip-api.com/json").then((function(e){return e.json()})).then((function(e){setTimeout((function(){u(e.query),b(e.country+"#"+e.city)}),300)}))}))})),g()(".container-fluid").css("position","fixed")})),Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Login Page"}),Object(r.jsxs)("div",{className:"card was-validated col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:y,children:[Object(r.jsx)("h1",{className:"h3 mb-3 font-weight-normal",style:{color:"blue"},children:"Please sign in"}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(r.jsx)("input",{ref:e,type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(r.jsx)("input",{ref:t,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("div",{className:"checkbox mb-3",children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",value:"remember-me",style:y})," Remember me"]})})}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){var s=f.auth();try{s.signInWithEmailAndPassword(e.current.value,t.current.value).then((function(){!function(e){localStorage.setItem("authlogin","true"),localStorage.setItem("user_id",e),window.location.href="#/dashboard";var t=v()().format("DD/MM/YYYY HH:mm:ss"),s=f.database().ref("/logs").push();s=s.toString().slice(-20);var a=f.database().ref("/logs").child(s);a.child("id").set(c+1),a.child("status").set("1"),a.child("message").set("User Login"),a.child("agent").set(navigator.userAgent),a.child("ip").set(d),a.child("location").set(j),a.child("user_id").set(e),a.child("time").set(t)}(e.current.value),window.location.reload(!1)})).catch((function(s){switch(O("Invalid user or password"),setTimeout((function(){O(""),e.current.value="",t.current.value=""}),2e3),s.code){case"auth/user-not-found":case"auth/wrong-password":alert("Incorect User or Password !")}}))}catch(a){alert("Error : ",a)}},children:"Login"})]})]})},_=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useRef)(null),c=Object(a.useState)([]),l=Object(k.a)(c,2),o=(l[0],l[1]),n=Object(a.useState)(0),d=Object(k.a)(n,2),u=d[0],m=d[1];return Object(a.useEffect)((function(){f.database().ref("/users").orderByChild("email").on("value",(function(e){var t=[];e.forEach((function(e){var s=e.val();t.push({id:s.id,email:s.email,name:s.name,nickname:s.nickname,password:s.password,phone:s.phone,role:s.role,status:s.status,terms:s.terms,time:s.time})})),o(t),m(t.length)})),g()(".container-fluid").css("position","fixed")})),Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Register Page"}),Object(r.jsxs)("div",{className:"card was-validated col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:{borderRadius:"25px",backgroundColor:"lightblue"},children:[Object(r.jsx)("h1",{className:"h3 mb-3 font-weight-normal",style:{color:"blue"},children:"Please sign up"}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{htmlFor:"name",className:"sr-only",children:"User Name"}),Object(r.jsx)("input",{ref:e,type:"text",id:"name",className:"form-control",placeholder:"User Name",required:!0,autofocus:!0}),Object(r.jsx)("div",{class:"valid-feedback"}),Object(r.jsx)("div",{class:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{htmlFor:"nickname",className:"sr-only",children:"Nick Name"}),Object(r.jsx)("input",{ref:t,type:"text",id:"nickname",className:"form-control",placeholder:"Nick Name",required:!0,autofocus:!0}),Object(r.jsx)("div",{class:"valid-feedback"}),Object(r.jsx)("div",{class:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(r.jsx)("input",{ref:s,type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),Object(r.jsx)("div",{class:"valid-feedback"}),Object(r.jsx)("div",{class:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(r.jsx)("input",{ref:i,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(r.jsx)("div",{class:"valid-feedback"}),Object(r.jsx)("div",{class:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{htmlFor:"inputConfirmPassword",className:"sr-only",children:"Confirm Password"}),Object(r.jsx)("input",{type:"password",id:"inputConfirmPassword",className:"form-control",placeholder:"Confirm Password",required:!0}),Object(r.jsx)("div",{class:"valid-feedback"}),Object(r.jsx)("div",{class:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){var a=f.auth();try{a.createUserWithEmailAndPassword(s.current.value,i.current.value).then((function(){!function(){var a=v()().format("DD/MM/YYYY HH:mm:ss"),c=e.current.value,l=s.current.value,o=t.current.value,n="0777888999",r="demo",d=f.database().ref("/users").push();d=d.toString().slice(-20);var m=f.database().ref("/users").child(d);m.child("id").set(u+1),m.child("name").set(c),m.child("email").set(l),m.child("nickname").set(o),m.child("phone").set(n),m.child("time").set(a),m.child("role").set(r),m.child("status").set("active"),m.child("terms").set(0),m.child("password").set(i.current.value),window.location.href="/reactblog/"}()})).catch((function(e){switch(e.code){case"auth/email-already-in-use":alert("Email already in use !")}}))}catch(c){alert("Error : ",c)}},children:"Register"})]})]})},w=function(){var e=Object(a.useState)(null),t=Object(k.a)(e,2),s=t[0],i=t[1];return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Fileupload Page"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){f.storage().ref("image/"+s.name).put(s).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){f.storage().ref("images").child(s.name).getDownloadURL().then((function(e){localStorage.setItem("image_url",s.name)})),localStorage.setItem("image_url",s.name),alert("Image was uploaded!")}))},children:"Upload"})]})},P=s(29),S=s.n(P),E=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allComments:[],countComments:0,allUsers:[]},a.content=i.a.createRef(),a.userOfComment="",a.userOfCommentEmail="",a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("/comments").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,content:t.content,user_id:t.user_id,post_id:t.post_id,time:t.time})})),e.setState({allComments:s,countComments:s.length}),e.state.countComments>10?g()(".container-fluid").css("position","relative"):g()(".container-fluid").css("position","fixed")})),f.database().ref("/users").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,email:t.email,name:t.name})})),e.setState({allUsers:s})}))}},{key:"addComment",value:function(e){if(this.content.current.value.length>1){var t=v()().format("DD/MM/YYYY HH:mm:ss"),s=f.database().ref("/comments").push();s=s.toString().slice(-20),setTimeout(function(){var a=f.database().ref("/comments").child(s);a.child("id").set(this.state.countComments+1),a.child("content").set(this.content.current.value),a.child("user_id").set(localStorage.getItem("user_id")),a.child("post_id").set(e),a.child("time").set(t)}.bind(this),300),this.setState({countComments:this.state.countComments+1}),alert("Add Comment done!")}else alert("Please fill the Comment fields!")}},{key:"render",value:function(){var e=this,t={left:"0"},s={display:"block",height:"1px",border:"0",borderTop:"1px solid #ccc",margin:"1em 0",padding:"0"};return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white",marginBottom:"50px",marginLeft:"-20px"},children:[Object(r.jsx)("hr",{className:"col-12",style:s}),Object(r.jsx)("h2",{className:"text-left",children:"This is Add Comment Page"}),Object(r.jsxs)("div",{className:"col-12 text-left",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"comment",className:"sr-only",children:"Comment"}),"true"===localStorage.getItem("authlogin")&&Object(r.jsx)("input",{ref:this.content,type:"text",id:"comment_"+this.props.post_id,className:"form-control",placeholder:"Comment",name:"comment_"+this.props.post_id,required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),"true"===localStorage.getItem("authlogin")&&Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){return e.addComment(e.props.post_id)},children:"Add"})]}),this.state.allComments.map((function(a,i){return Object(r.jsxs)("div",{className:"col-6",children:[e.state.allUsers.forEach((function(t){t.email==a.user_id&&(e.userOfComment=t.name,e.userOfCommentEmail=a.user_id)})),a.post_id==e.props.post_id&&Object(r.jsx)("hr",{className:"col-12",style:s}),a.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:Object(r.jsxs)("strong",{children:["true"===localStorage.getItem("authlogin")&&e.userOfCommentEmail==localStorage.getItem("user_id")?"Me":e.userOfComment+"-"+e.userOfCommentEmail,":"]})}),a.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:a.content}),a.post_id==e.props.post_id&&Object(r.jsx)("p",{className:"text-left",style:t,children:a.time})]})})),Object(r.jsx)("hr",{className:"col-12",style:s})]})}}]),s}(a.Component),L=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allPosts:[],allMyPosts:[],countPosts:0,allCategory:[],categoryID:1,contentck:""},a.title=i.a.createRef(),a.description=i.a.createRef(),a.content=i.a.createRef(),a.select=i.a.createRef(),a.categ="",a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("/category").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,time:t.time})})),e.setState({allCategory:s,countCategory:s.length})})),f.database().ref("/posts").orderByChild("id").on("value",(function(t){var s=[],a=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,content:t.content,user_id:t.user_id,category_id:t.category_id,image:t.image,time:t.time}),t.user_id==localStorage.getItem("user_id")&&a.push({id:t.id,title:t.title,description:t.description,content:t.content,user_id:t.user_id,category_id:t.category_id,image:t.image,time:t.time})})),e.setState({allPosts:s,allMyPosts:a,countPosts:s.length}),setTimeout(function(){this.state.countPosts>2?g()(".container-fluid").css("position","relative"):g()(".container-fluid").css("position","fixed")}.bind(e),300)})),S.a.config={toolbar:"document"}}},{key:"addpost",value:function(){if(this.title.current.value.length>1&&this.description.current.value.length>1){var e=v()().format("DD/MM/YYYY HH:mm:ss"),t=f.database().ref("/posts").push();t=t.toString().slice(-20),setTimeout(function(){var s=f.database().ref("/posts").child(t);s.child("id").set(this.state.countPosts+1),s.child("user_id").set(localStorage.getItem("user_id")),s.child("category_id").set(this.state.categoryID),s.child("title").set(this.title.current.value),s.child("description").set(this.description.current.value),s.child("content").set(localStorage.getItem("contentck")),s.child("image").set(localStorage.getItem("image_url")),s.child("time").set(e)}.bind(this),300),this.setState({countPost:this.countPosts+1}),alert("Add post done!")}else alert("Please fill the Title and Description fields!")}},{key:"selectchange",value:function(){this.setState({categoryID:this.select.current.value})}},{key:"onChangeCK",value:function(e){var t=e.editor.getData();localStorage.setItem("contentck",t)}},{key:"onBlur",value:function(e){console.log("onBlur event called with event info: ",e)}},{key:"afterPaste",value:function(e){console.log("afterPaste event called with event info: ",e)}},{key:"render",value:function(){var e=this,t={marginBottom:"10px"};return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Add Posts Page"}),Object(r.jsxs)("div",{className:"col-6",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"title",className:"sr-only",children:"Title"}),Object(r.jsx)("input",{ref:this.title,type:"text",id:"title",className:"form-control",placeholder:"Title",name:"title",required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"description",className:"sr-only",children:"Description"}),Object(r.jsx)("input",{ref:this.description,type:"text",id:"description",className:"form-control",placeholder:"Description",name:"description",required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("select",{className:"custom-select",ref:this.select,onChange:function(){return e.selectchange()},children:this.state.allCategory.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.title})}))})}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"content",className:"sr-only",children:"Content"}),Object(r.jsx)(S.a,{activeClass:"p10",content:this.state.contentck,events:{blur:this.onBlur,afterPaste:this.afterPaste,change:this.onChangeCK}}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsx)(w,{}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){return e.addpost()},children:"Add"})]}),this.state.allMyPosts.map((function(s,a){return Object(r.jsxs)("div",{className:"col-6",children:[Object(r.jsx)("img",{className:"img-fluid",src:"https://firebasestorage.googleapis.com/v0/b/reactblog-824c0.appspot.com/o/image%2F"+s.image+"?alt=media",style:t}),Object(r.jsx)("p",{className:"text-left",children:s.title}),Object(r.jsx)("p",{className:"text-left",children:s.description}),e.state.allCategory.forEach((function(t){t.id==s.category_id&&(e.categ=t.title)})),Object(r.jsxs)("p",{className:"text-left",children:["Category: ",e.categ]}),Object(r.jsx)("p",{className:"text-left",children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:s.content}})}),Object(r.jsx)("p",{className:"text-left",children:s.time}),Object(r.jsx)(E,{post_id:s.id})]})}))]})}}]),s}(a.Component),I=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allCategory:[],countCategory:0},a.title=i.a.createRef(),a.description=i.a.createRef(),a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("/category").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,time:t.time})})),e.setState({allCategory:s,countCategory:s.length}),e.state.countCategory>10?g()(".container-fluid").css("position","relative"):g()(".container-fluid").css("position","fixed")}))}},{key:"addCategory",value:function(){if(this.title.current.value.length>1&&this.description.current.value.length>1){var e=v()().format("DD/MM/YYYY HH:mm:ss"),t=f.database().ref("/category").push();t=t.toString().slice(-20),setTimeout(function(){var s=f.database().ref("/category").child(t);s.child("id").set(this.state.countCategory+1),s.child("title").set(this.title.current.value),s.child("description").set(this.description.current.value),s.child("time").set(e)}.bind(this),300),this.setState({countCategory:this.state.countCategory+1}),alert("Add category done!")}else alert("Please fill the Title and Description fields!")}},{key:"render",value:function(){var e=this,t={left:"0"};return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Add Category Page"}),Object(r.jsxs)("div",{className:"col-6",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"title",className:"sr-only",children:"Title"}),Object(r.jsx)("input",{ref:this.title,type:"text",id:"title",className:"form-control",placeholder:"Title",name:"title",required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"description",className:"sr-only",children:"Description"}),Object(r.jsx)("input",{ref:this.description,type:"text",id:"description",className:"form-control",placeholder:"Description",name:"description",required:!0,autoFocus:!0}),Object(r.jsx)("div",{className:"valid-feedback"}),Object(r.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){return e.addCategory()},children:"Add"})]}),this.state.allCategory.map((function(e,s){return Object(r.jsxs)("div",{className:"col-6",children:[Object(r.jsx)("p",{className:"text-left",style:t,children:e.title}),Object(r.jsx)("p",{className:"text-left",style:t,children:e.description})]})}))]})}}]),s}(a.Component),D=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),s=t[0],i=t[1],c=Object(a.useState)(!1),l=Object(k.a)(c,2),o=l[0],n=l[1],d={listStyleType:"none",left:"0"};return Object(a.useEffect)((function(){g()(".container-fluid").css("position","fixed")})),Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Dashboard Page"}),Object(r.jsx)("div",{style:{height:"50px",left:"0",top:"95px",paddingRight:"30px",marginLeft:"-30px",position:"absolute",backgroundColor:"lightblue",color:"black",width:"193px"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("ul",{className:"mx-auto",style:d,children:Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/dashboard","data-toggle":"collapse","data-target":"#sidebar",children:"Menu"})})})})}),Object(r.jsx)("div",{id:"sidebar",className:"collapse",style:{height:"150px",left:"0",top:"145px",paddingRight:"58px",position:"absolute",backgroundColor:"lightblue",color:"black"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("ul",{className:"mx-auto",style:d,children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/dashboard",children:"Home"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/dashboard",onClick:function(){i(!0),n(!1)},children:"Posts"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/dashboard",onClick:function(){i(!1),n(!0)},children:"Category"})})]})})}),Object(r.jsxs)("div",{className:"content",children:[s&&Object(r.jsx)(L,{}),o&&Object(r.jsx)(I,{})]})]})},T=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={allPosts:[],countPosts:0,id:0,allCategory:[]},a.categ="",a.userOfComment="",a.userOfCommentEmail="",a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState({id:this.props.match.params.id}),setTimeout(function(){var e=this;f.database().ref("/posts").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(t){var a=t.val();a.id==e.state.id&&s.push({id:a.id,title:a.title,description:a.description,content:a.content,user_id:a.user_id,category_id:a.category_id,image:a.image,time:a.time})})),e.setState({allPosts:s,countPosts:s.length}),1==e.state.countPosts?g()(".container-fluid").css("position","relative"):g()(".container-fluid").css("position","fixed")}))}.bind(this),300),f.database().ref("/category").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,title:t.title,description:t.description,time:t.time})})),e.setState({allCategory:s})})),f.database().ref("/users").orderByChild("id").on("value",(function(t){var s=[];t.forEach((function(e){var t=e.val();s.push({id:t.id,email:t.email,name:t.name})})),e.setState({allUsers:s})}))}},{key:"render",value:function(){var e=this,t={left:"0"},s={marginBottom:"10px"};return Object(r.jsxs)("div",{className:"container",style:{backgroundColor:"#282c34",color:"white"},children:[Object(r.jsx)("h2",{children:"This is Viewpost Page"}),this.state.allPosts.map((function(a,i){return Object(r.jsxs)("div",{className:"col-6",children:[Object(r.jsx)("img",{className:"img-fluid",src:"https://firebasestorage.googleapis.com/v0/b/reactblog-824c0.appspot.com/o/image%2F"+a.image+"?alt=media",style:s}),Object(r.jsx)("p",{className:"text-left",style:t,children:a.title}),Object(r.jsx)("p",{className:"text-left",style:t,children:a.description}),Object(r.jsx)("p",{className:"text-left",style:t,children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:a.content}})}),e.state.allCategory.forEach((function(t){t.id==a.category_id&&(e.categ=t.title)})),Object(r.jsxs)("p",{className:"text-left",children:["Category: ",e.categ]}),e.state.allUsers.forEach((function(t){t.email==a.user_id&&(e.userOfComment=t.name,e.userOfCommentEmail=a.user_id)})),Object(r.jsx)("p",{className:"text-left",style:t,children:Object(r.jsxs)("strong",{children:["Author: ","true"===localStorage.getItem("authlogin")&&e.userOfCommentEmail==localStorage.getItem("user_id")?"Me":e.userOfComment+"-"+e.userOfCommentEmail,":"]})}),Object(r.jsxs)("p",{className:"text-left",style:t,children:["Created at: ",a.time]}),Object(r.jsx)(E,{post_id:e.state.id})]})}))]})}}]),s}(a.Component);var B=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("a",{className:"navbar-brand",href:"#/",children:"React Blog"}),Object(r.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(r.jsxs)("ul",{className:"navbar-nav mr-auto",children:["false"===localStorage.getItem("authlogin")&&Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/",children:"Home"})}),"true"===localStorage.getItem("authlogin")&&Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/dashboard",children:"Home"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/about",children:"About"})})]}),Object(r.jsxs)("ul",{className:"navbar-nav ml-auto",children:["false"===localStorage.getItem("authlogin")&&Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/register",children:"Register"})}),"false"===localStorage.getItem("authlogin")&&Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link",href:"#/login",children:"Login"})}),"true"===localStorage.getItem("authlogin")&&Object(r.jsxs)("li",{className:"nav-item dropdown",children:[Object(r.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:localStorage.getItem("user_id")}),Object(r.jsx)("div",{className:"dropdown-menu bg-dark","aria-labelledby":"navbarDropdownMenuLink",children:Object(r.jsx)("a",{className:"nav-link bg-dark",href:"#/logout",children:"Logout"})})]})]})]})]})}),Object(r.jsx)(o.a,{basename:"/",children:Object(r.jsxs)(n.c,{children:[Object(r.jsx)(n.a,{exact:!0,path:"/",component:y}),Object(r.jsx)(n.a,{exact:!0,path:"/about",component:N}),Object(r.jsx)(n.a,{exact:!0,path:"/login",component:C}),Object(r.jsx)(n.a,{exact:!0,path:"/register",component:_}),Object(r.jsx)(n.a,{exact:!0,path:"/dashboard",component:D}),Object(r.jsx)(n.a,{exact:!0,path:"/viewpost/:id",component:T}),Object(r.jsx)(n.a,{exact:!0,path:"/logout",component:function(){return localStorage.setItem("authlogin","false"),window.location.href="/reactblog/",Object(r.jsx)("div",{})}}),Object(r.jsx)(n.a,{path:"/",component:d})]})}),Object(r.jsx)("div",{className:"container-fluid",style:{height:"50px",position:"fixed",bottom:"0"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"mx-auto",style:{color:"white"},children:"\xa9 2021 - React Blog"})})})]})},R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,60)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,l=t.getTTFB;s(e),a(e),i(e),c(e),l(e)}))};s(57),s(58);l.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(B,{})}),document.getElementById("root")),R()}},[[59,1,2]]]);
//# sourceMappingURL=main.1b1af3f0.chunk.js.map